# Проверка кода #

![pageimage](src/page1image3852832-small-13.png)


## 0. Проверка используя компилятор и lifehack  c `alias`: ##

1. Если у вас `bash` то для быстрой проверки файла `main.c` через стандартные проверяющие флаги компилятора и последующей компиляцией программы добавляем в файл `~/.bashrc` вот эту строчку(если файла `~/.bashrc` нет, то создайте его):
```
alias main="gcc -Wall -Wextra -Werror main.c -o test && ./test"
```
Затем перезапустите терминал, перейдите в дерикторию с файлом и набирите 
```
main
```
2. Если у вас `zsh` то для быстрой проверки файла `main.c` через стандартные проверяющие флаги компилятора и последующей компиляцией программы добавляем в файл `~/.zshrc` вот эту строчку(если файла `~/.zshrc` нет, то создайте его):
```
alias main="gcc -Wall -Wextra -Werror main.c -o test && ./test"
```
Затем перезапустите терминал, перейдите в дерикторию с файлом и набирите 
```
main
```



## 1. Проверка кода через Norminette ##

### Проверка содержимого файлов на соответствие нормам в школе 42 происходит через проверку  стандартной программой Norminette

Если вы не в аудитории школы 42 и у вас не установлен Norminette то выполните по очередно эти команы.

Устанавливаем нужные для работы программы библиотеки:
```
sudo apt install ruby ruby-bundler ruby-dev build-essential -y
```

Скачиваем само приложение Norminette из официального репозитория школы 42 и сохраняем туда откуда он должен будет работать:
```
git clone https://github.com/42Paris/norminette.git ~/.norminette/
```

Переходим в саму папку с искодниками програмы
```
cd  ~/.norminette
```

И запускаем сборку программы Norminette:
```
bundle
```

Для удобства использования мы возьмем `alias` и свяжем ассоциацией имя программмы с адресом до ёё исполняемого файла.

Если у вас `bash` то:
```
echo 'alias norminette="~/.norminette/norminette.rb"' >> ~/.bashrc
```

Если у вас `zsh` то:
```
echo 'alias norminette="~/.norminette/norminette.rb"' >> ~/.zshrc
```

Зарегистрируем изменения.


Если у вас `bash` то:
```
source ~/.bashrc
```

Если у вас `zsh` то:
```
source ~/.zshrc
```

### Проверка кода на соответствие нормам через Norminette:

   * Для проверки использовать команду norminette -R CheckForbiddenSourceHeader в каталоге файлов типа `.с`
   * Для проверки файлов типа .h используется только norminette, без флагов
   * Если у вас `bash` то для быстрой проверки файла `main.c` через программу Norminette добавляем в файл `~/.bashrc` вот эту строчку(если файла `~/.bashrc` нет то создайте его):
   ```
   alias norm="norminette -R CheckForbiddenSourceHeader"
   ```
   Затем перезапустите терминал и набирите 
   ```
   norm main.c
   ```
   * Если у вас `zsh` то для быстрой проверки файла `main.c` через программу Norminette добавляем в файл `~/.zshrc` вот эту строчку(если файла `~/.zshrc` нет то создайте его):
   ```
   alias norm="norminette -R CheckForbiddenSourceHeader"
   ```
   Затем перезапустите терминал и набирите 
   ```
   norm main.c
   ```

## 2. Проверка через 42Stupidity ##

> ❗️ Не стоить думать, что ваш код идеален, если он прошел все тесты 42Stupidity. Я вас предупредил. ❗️

Компилирует, тестит и проверяет официальной Norminette.

1.	Клонируем репоз. в домашний каталог в новую папку 42Stupidity
```
git clone https://github.com/mirror12k/42us-stupidity.git ~/42Stupidity
```

2.	Переходим в созданный каталог и создаем каталог, где будут храниться наши решения с файлами
```
cd ~/42Stupidity && mkdir day02/ex00
```
Или клонируем свой репоз. с выполненными заданиями day02 в текущий каталог
```
git clone vogsphere@vogsphere.21-school.ru:intra/2019/activities/piscine_c_day_02/nick day02
```

3.	spawn skript cоздает скрипты (сценарий проверки) для всех задач из каталога day02
```
./spawn.pl <day_repo> config_d<day_number>.pl
```

4.	Компилируем соотвествующий main.c для каждой функции
```
./tools/build.sh
```

5.	Проверяем наши ответы. Выполняем все тесты для каждой функции. Хорошие тесты будут отмечены, как 'good', ошибки будут выведены с большими восклицательными знаками.
```
./tools/check_all.sh
```

6.	Проверяем наши ответы на Normiette с соотвествующими флагами
```
./tools/verify.sh
```

7. Мои alias, мне так проще, не вините меня. У меня просто в папке .debug все эти инструменты для проверки
```
alias day03="cd /mnt/d/Work/21school/21school_piscine-c/.debug && ./spawn.pl ../03_day03 config_d03.pl && ./tools/build.sh && ./tools/check_all.sh && cd -"
```



## 3. Проверка через Towel ##

Упрощает работу (на основе 42Stupidity), действие в одну команду.

1. Клонируем репозиторий в домашний каталог в новую папку Towel
```
git clone https://github.com/oscardemadriz/towel.git ~/Towel
```
2. Переходим в созданный каталог
 ```
cd ~/Towel
```

3. Клонируем свой репоз. с выполненными заданиями day05 в текущий каталог Towel
```
git clone vogsphere@vogsphere.21-school.ru:intra/2019/activities/piscine_c_day_05/nick day05
```
4. Возможно понадобится сменить права доступа 
```
chmod +x towel.sh
```
5. Проверяем на Norminette, комплируем и тестим 
```
./towel.sh day05
```